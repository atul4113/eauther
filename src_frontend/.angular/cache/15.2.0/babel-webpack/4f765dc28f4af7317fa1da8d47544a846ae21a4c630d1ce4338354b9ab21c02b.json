{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport { FormControl, Validators } from '@angular/forms';\nimport { PopupBaseComponent } from \"../popup-base/popup-base.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/material/input\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"../popup-base/popup-base.component\";\nvar PopupWithInputComponent = /** @class */function () {\n  function PopupWithInputComponent() {\n    this.isVisible = false;\n    this.placeholder = \"\";\n    this.defaultValue = \"\";\n    this.emptyWarningLabel = \"\";\n    this.accept = new EventEmitter();\n    this.reject = new EventEmitter();\n    this.isVisibleChange = new EventEmitter();\n    this.valueControl = new FormControl(this.defaultValue, [Validators.required]);\n  }\n  PopupWithInputComponent.prototype.ngOnInit = function () {\n    if (!this.acceptLabel) {\n      this.acceptLabel = 'Ok';\n    }\n    if (!this.rejectLabel) {\n      this.rejectLabel = 'Cancel';\n    }\n    this.popupBase.onAccept = this.onAccept.bind(this);\n    this.valueControl.markAsUntouched();\n  };\n  PopupWithInputComponent.prototype.onAccept = function (event) {\n    this.valueControl.markAsTouched();\n    if (this.valueControl.value.length > 0) {\n      this.accept.emit(this.valueControl.value);\n      this.hidePopup();\n    }\n  };\n  PopupWithInputComponent.prototype.onReject = function (event) {\n    this.reject.emit(event);\n    this.hidePopup();\n  };\n  PopupWithInputComponent.prototype.hidePopup = function () {\n    this.isVisible = false;\n    this.valueControl.setValue(this.defaultValue);\n    this.isVisibleChange.emit(this.isVisible);\n    this.valueControl.markAsUntouched();\n  };\n  PopupWithInputComponent.ɵfac = function PopupWithInputComponent_Factory(t) {\n    return new (t || PopupWithInputComponent)();\n  };\n  PopupWithInputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PopupWithInputComponent,\n    selectors: [[\"popup-with-input\"]],\n    viewQuery: function PopupWithInputComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(PopupBaseComponent, 5);\n      }\n      if (rf & 2) {\n        var _t = void 0;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.popupBase = _t.first);\n      }\n    },\n    inputs: {\n      isVisible: \"isVisible\",\n      placeholder: \"placeholder\",\n      content: \"content\",\n      title: \"title\",\n      defaultValue: \"defaultValue\",\n      acceptLabel: \"acceptLabel\",\n      rejectLabel: \"rejectLabel\",\n      emptyWarningLabel: \"emptyWarningLabel\"\n    },\n    outputs: {\n      accept: \"accept\",\n      reject: \"reject\",\n      isVisibleChange: \"isVisibleChange\"\n    },\n    decls: 10,\n    vars: 7,\n    consts: [[3, \"acceptLabel\", \"rejectLabel\", \"isVisible\", \"isVisibleChange\", \"accept\", \"reject\"], [1, \"popup__title\"], [1, \"popup__content\"], [\"required\", \"\", \"matInput\", \"\", 3, \"placeholder\", \"formControl\"], [\"inputText\", \"\"]],\n    template: function PopupWithInputComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"popup-base\", 0);\n        i0.ɵɵlistener(\"isVisibleChange\", function PopupWithInputComponent_Template_popup_base_isVisibleChange_0_listener($event) {\n          return ctx.isVisible = $event;\n        })(\"accept\", function PopupWithInputComponent_Template_popup_base_accept_0_listener($event) {\n          return ctx.onAccept($event);\n        })(\"reject\", function PopupWithInputComponent_Template_popup_base_reject_0_listener($event) {\n          return ctx.onReject($event);\n        });\n        i0.ɵɵelementStart(1, \"span\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"span\", 2)(4, \"p\");\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\")(7, \"mat-form-field\");\n        i0.ɵɵelement(8, \"input\", 3, 4);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"acceptLabel\", ctx.acceptLabel)(\"rejectLabel\", ctx.rejectLabel)(\"isVisible\", ctx.isVisible);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.title);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.content);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"placeholder\", ctx.placeholder)(\"formControl\", ctx.valueControl);\n      }\n    },\n    dependencies: [i1.DefaultValueAccessor, i1.NgControlStatus, i1.RequiredValidator, i1.FormControlDirective, i2.MatInput, i3.MatFormField, i4.PopupBaseComponent],\n    encapsulation: 2\n  });\n  return PopupWithInputComponent;\n}();\nexport { PopupWithInputComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}