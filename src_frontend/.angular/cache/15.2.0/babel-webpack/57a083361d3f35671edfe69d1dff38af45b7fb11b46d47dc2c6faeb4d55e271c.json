{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport { BaseUploadFileComponent } from \"../base-upload-file/base-upload-file.component\";\nimport { UploadFileService } from \"../../service\";\nimport { TranslationsService } from \"../../service/translations.service\";\nimport { InfoMessageService } from \"../../service/info-message.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/translations.service\";\nimport * as i2 from \"../../service/info-message.service\";\nvar SimpleUploadFileComponent = /** @class */function () {\n  function SimpleUploadFileComponent(_translations, _infoMessage) {\n    this._translations = _translations;\n    this._infoMessage = _infoMessage;\n    this.disabled = false;\n    this.startingUpload = new EventEmitter();\n    this.uploaded = new EventEmitter();\n  }\n  SimpleUploadFileComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this._translations.getTranslations().subscribe(function (translations) {\n      _this.translations = translations;\n    });\n  };\n  SimpleUploadFileComponent.prototype.upload = function () {\n    var _this = this;\n    this.startingUpload.emit();\n    this.baseUploadFile.upload().subscribe(function (uploadedFile) {\n      _this.uploaded.emit(uploadedFile);\n    }, function (error) {\n      _this._infoMessage.addError(_this.translations.labels['common.file_upload.error']);\n    });\n  };\n  SimpleUploadFileComponent.prototype.onSelected = function (file) {\n    this.upload();\n  };\n  SimpleUploadFileComponent.ɵfac = function SimpleUploadFileComponent_Factory(t) {\n    return new (t || SimpleUploadFileComponent)(i0.ɵɵdirectiveInject(i1.TranslationsService), i0.ɵɵdirectiveInject(i2.InfoMessageService));\n  };\n  SimpleUploadFileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SimpleUploadFileComponent,\n    selectors: [[\"simple-upload-file\"]],\n    viewQuery: function SimpleUploadFileComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(BaseUploadFileComponent, 5);\n      }\n      if (rf & 2) {\n        var _t = void 0;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.baseUploadFile = _t.first);\n      }\n    },\n    inputs: {\n      disabled: \"disabled\"\n    },\n    outputs: {\n      startingUpload: \"startingUpload\",\n      uploaded: \"uploaded\"\n    },\n    features: [i0.ɵɵProvidersFeature([UploadFileService])],\n    decls: 4,\n    vars: 5,\n    consts: [[3, \"selected\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"disabled\", \"click\"]],\n    template: function SimpleUploadFileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"base-upload-file\", 0);\n        i0.ɵɵlistener(\"selected\", function SimpleUploadFileComponent_Template_base_upload_file_selected_0_listener($event) {\n          return ctx.onSelected($event);\n        });\n        i0.ɵɵelementStart(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function SimpleUploadFileComponent_Template_button_click_1_listener() {\n          return ctx.baseUploadFile.openFilePicker();\n        });\n        i0.ɵɵtext(2);\n        i0.ɵɵpipe(3, \"getLabel\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.disabled);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(3, 2, ctx.translations, \"common.file_upload.upload\"), \" \");\n      }\n    },\n    encapsulation: 2\n  });\n  return SimpleUploadFileComponent;\n}();\nexport { SimpleUploadFileComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}