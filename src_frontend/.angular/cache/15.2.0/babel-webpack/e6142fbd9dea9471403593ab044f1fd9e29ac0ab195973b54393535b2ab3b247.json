{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { User } from \"./user\";\nimport { Space } from \"./space\";\nvar PERMISSIONS = {\n  assetsBrowseAssets: 1,\n  assetsUploadEditAssets: 2,\n  assetsRemoveAssets: 3,\n  contentViewLessonsAddons: 4,\n  contentRemoveLessonsAddons: 5,\n  contentEditMetadataOfLessonsAddons: 6,\n  contentPublishLessons: 7,\n  contentCopyLessons: 8,\n  contentCreateEditLessonsAddons: 9,\n  contentUploadLessonsAddonsIcon: 10,\n  contentShowLessonsHistory: 11,\n  contentSetLessonsCurrentVersion: 12,\n  contentExportLessons: 13,\n  contentImportLessons: 14,\n  spaceManageAccessToProjectsPublications: 15,\n  spaceCreateEditProjectsPublications: 16,\n  spaceRemoveProjectsPublications: 17,\n  spaceCreateRestoreProjectsBackup: 18,\n  companyUploadCompanyLogo: 19,\n  companyViewCompanyDetails: 20,\n  companyEditCOmpanyDetails: 21,\n  companyViewCompanyAdministrationPanel: 22,\n  bugtruckReportNewBugsInBugtruck: 23,\n  narrationExportAudioVideoNarrations: 24,\n  localizationCreateLessonsForLocalization: 25,\n  localizationLocalizeLessonsPreparedForLocalization: 26,\n  localizationResetLocalizationLessonsToOriginalCurrentLesson: 27,\n  localizationExportXLIFF: 28,\n  localizationImportXLIFF: 29,\n  statesManageAvailableStateSets: 30,\n  statesSelectStateSetForPublication: 31,\n  courseManageCourses: 32,\n  spaceBulkTemplateUpdate: 33,\n  spaceBulkAssetsUpdate: 34,\n  bugtruckViewBugs: 35\n};\nvar RolePermissions = /** @class */function () {\n  function RolePermissions(permissions) {\n    this.assetsBrowseAssets = false;\n    this.assetsUploadEditAssets = false;\n    this.assetsRemoveAssets = false;\n    this.contentViewLessonsAddons = false;\n    this.contentRemoveLessonsAddons = false;\n    this.contentEditMetadataOfLessonsAddons = false;\n    this.contentPublishLessons = false;\n    this.contentCopyLessons = false;\n    this.contentCreateEditLessonsAddons = false;\n    this.contentUploadLessonsAddonsIcon = false;\n    this.contentShowLessonsHistory = false;\n    this.contentSetLessonsCurrentVersion = false;\n    this.contentExportLessons = false;\n    this.contentImportLessons = false;\n    this.spaceManageAccessToProjectsPublications = false;\n    this.spaceCreateEditProjectsPublications = false;\n    this.spaceRemoveProjectsPublications = false;\n    this.spaceCreateRestoreProjectsBackup = false;\n    this.companyUploadCompanyLogo = false;\n    this.companyViewCompanyDetails = false;\n    this.companyEditCompanyDetails = false;\n    this.companyViewCompanyAdministrationPanel = false;\n    this.bugtruckReportNewBugsInBugtruck = false;\n    this.narrationExportAudioVideoNarrations = false;\n    this.localizationCreateLessonsForLocalization = false;\n    this.localizationLocalizeLessonsPreparedForLocalization = false;\n    this.localizationResetLocalizationLessonsToOriginalCurrentLesson = false;\n    this.localizationExportXLIFF = false;\n    this.localizationImportXLIFF = false;\n    this.statesManageAvailableStateSets = false;\n    this.statesSelectStateSetForPublication = false;\n    this.courseManageCourses = false;\n    this.spaceBulkTemplateUpdate = false;\n    this.spaceBulkAssetsUpdate = false;\n    this.bugtruckViewBugs = false;\n    if (permissions) {\n      this.assetsBrowseAssets = permissions.includes(PERMISSIONS.assetsBrowseAssets);\n      this.assetsUploadEditAssets = permissions.includes(PERMISSIONS.assetsUploadEditAssets);\n      this.assetsRemoveAssets = permissions.includes(PERMISSIONS.assetsRemoveAssets);\n      this.contentViewLessonsAddons = permissions.includes(PERMISSIONS.contentViewLessonsAddons);\n      this.contentRemoveLessonsAddons = permissions.includes(PERMISSIONS.contentRemoveLessonsAddons);\n      this.contentEditMetadataOfLessonsAddons = permissions.includes(PERMISSIONS.contentEditMetadataOfLessonsAddons);\n      this.contentPublishLessons = permissions.includes(PERMISSIONS.contentPublishLessons);\n      this.contentCopyLessons = permissions.includes(PERMISSIONS.contentCopyLessons);\n      this.contentCreateEditLessonsAddons = permissions.includes(PERMISSIONS.contentCreateEditLessonsAddons);\n      this.contentUploadLessonsAddonsIcon = permissions.includes(PERMISSIONS.contentUploadLessonsAddonsIcon);\n      this.contentShowLessonsHistory = permissions.includes(PERMISSIONS.contentShowLessonsHistory);\n      this.contentSetLessonsCurrentVersion = permissions.includes(PERMISSIONS.contentSetLessonsCurrentVersion);\n      this.contentExportLessons = permissions.includes(PERMISSIONS.contentExportLessons);\n      this.contentImportLessons = permissions.includes(PERMISSIONS.contentImportLessons);\n      this.spaceManageAccessToProjectsPublications = permissions.includes(PERMISSIONS.spaceManageAccessToProjectsPublications);\n      this.spaceCreateEditProjectsPublications = permissions.includes(PERMISSIONS.spaceCreateEditProjectsPublications);\n      this.spaceRemoveProjectsPublications = permissions.includes(PERMISSIONS.spaceRemoveProjectsPublications);\n      this.spaceCreateRestoreProjectsBackup = permissions.includes(PERMISSIONS.spaceCreateRestoreProjectsBackup);\n      this.companyUploadCompanyLogo = permissions.includes(PERMISSIONS.companyUploadCompanyLogo);\n      this.companyViewCompanyDetails = permissions.includes(PERMISSIONS.companyViewCompanyDetails);\n      this.companyEditCompanyDetails = permissions.includes(PERMISSIONS.companyViewCompanyDetails);\n      this.companyViewCompanyAdministrationPanel = permissions.includes(PERMISSIONS.companyViewCompanyAdministrationPanel);\n      this.bugtruckReportNewBugsInBugtruck = permissions.includes(PERMISSIONS.bugtruckReportNewBugsInBugtruck);\n      this.narrationExportAudioVideoNarrations = permissions.includes(PERMISSIONS.narrationExportAudioVideoNarrations);\n      this.localizationCreateLessonsForLocalization = permissions.includes(PERMISSIONS.localizationCreateLessonsForLocalization);\n      this.localizationLocalizeLessonsPreparedForLocalization = permissions.includes(PERMISSIONS.localizationLocalizeLessonsPreparedForLocalization);\n      this.localizationResetLocalizationLessonsToOriginalCurrentLesson = permissions.includes(PERMISSIONS.localizationResetLocalizationLessonsToOriginalCurrentLesson);\n      this.localizationExportXLIFF = permissions.includes(PERMISSIONS.localizationExportXLIFF);\n      this.localizationImportXLIFF = permissions.includes(PERMISSIONS.localizationImportXLIFF);\n      this.statesManageAvailableStateSets = permissions.includes(PERMISSIONS.statesManageAvailableStateSets);\n      this.statesSelectStateSetForPublication = permissions.includes(PERMISSIONS.statesSelectStateSetForPublication);\n      this.courseManageCourses = permissions.includes(PERMISSIONS.courseManageCourses);\n      this.spaceBulkTemplateUpdate = permissions.includes(PERMISSIONS.spaceBulkTemplateUpdate);\n      this.spaceBulkAssetsUpdate = permissions.includes(PERMISSIONS.spaceBulkAssetsUpdate);\n      this.bugtruckViewBugs = permissions.includes(PERMISSIONS.bugtruckViewBugs);\n    }\n  }\n  return RolePermissions;\n}();\nexport { RolePermissions };\nvar UserPermissions = /** @class */function () {\n  function UserPermissions(user) {\n    this.isSuperUser = false;\n    this.isStaff = false;\n    this.isAnyDivisionAdmin = false;\n    if (user) {\n      this.isSuperUser = user.is_superuser;\n      this.isStaff = user.is_staff;\n      this.isAnyDivisionAdmin = user.is_any_division_admin;\n    }\n  }\n  return UserPermissions;\n}();\nexport { UserPermissions };\nvar AuthUser = /** @class */function (_super) {\n  __extends(AuthUser, _super);\n  // public publicCategory: Space;\n  // public divisions: Space[];\n  function AuthUser(user) {\n    var _this = _super.call(this, user) || this;\n    _this.isAuthenticated = false;\n    _this.permissions = new UserPermissions(user);\n    if (user) {\n      _this.isAuthenticated = true;\n      _this.languageCode = user.language_code;\n      if (user.company) {\n        _this.company = new Space(user.company);\n      }\n      if (user.private_space) {\n        _this.privateSpace = new Space(user.private_space);\n      }\n      // if (user.public_category) {\n      //     this.publicCategory = new Space(user.public_category);\n      // }\n      // if (user.divisions) {\n      //     this.divisions = user.divisions.map( (division: ISpaceRaw) => new Space(division));\n      // }\n    }\n    return _this;\n  }\n  return AuthUser;\n}(User);\nexport { AuthUser };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}